2025-06-13 17:22:45,464 - INFO - 开始Python HTTPS部署...
2025-06-13 17:22:45,726 - INFO - Connected (version 2.0, client OpenSSH_7.4)
2025-06-13 17:22:46,088 - INFO - Authentication (publickey) successful!
2025-06-13 17:22:46,088 - INFO - SSH密钥连接成功
2025-06-13 17:22:46,168 - INFO - [chan 0] Opened sftp connection (server version 3)
2025-06-13 17:22:48,208 - INFO - 部署包创建成功: fangcheng_deploy_20250613_172246.tar.gz
2025-06-13 17:22:48,288 - INFO - 上传文件到服务器: /tmp/fangcheng_deploy_20250613_172246.tar.gz
2025-06-13 17:22:56,715 - INFO - 解压到应用目录: /var/www/fangcheng
2025-06-13 17:22:56,804 - INFO - 文件上传和解压完成
2025-06-13 17:22:57,026 - INFO - SSL证书创建完成
2025-06-13 17:22:57,102 - ERROR - 启动HTTPS应用失败: 'PythonHTTPSDeploy' object has no attribute 'headers'
2025-06-13 17:22:57,102 - INFO - [chan 0] sftp session closed.
2025-06-13 17:23:15,205 - INFO - 开始Python HTTPS部署...
2025-06-13 17:23:15,468 - INFO - Connected (version 2.0, client OpenSSH_7.4)
2025-06-13 17:23:15,794 - INFO - Authentication (publickey) successful!
2025-06-13 17:23:15,795 - INFO - SSH密钥连接成功
2025-06-13 17:23:15,900 - INFO - [chan 0] Opened sftp connection (server version 3)
2025-06-13 17:23:18,073 - INFO - 部署包创建成功: fangcheng_deploy_20250613_172315.tar.gz
2025-06-13 17:23:18,155 - INFO - 上传文件到服务器: /tmp/fangcheng_deploy_20250613_172315.tar.gz
2025-06-13 17:23:27,005 - INFO - 解压到应用目录: /var/www/fangcheng
2025-06-13 17:23:27,096 - INFO - 文件上传和解压完成
2025-06-13 17:23:27,306 - INFO - SSL证书创建完成
2025-06-13 17:23:27,481 - INFO - 启动HTTPS应用在端口 8443...
2025-06-13 17:23:30,574 - ERROR - HTTPS应用启动失败，请检查日志
2025-06-13 17:23:38,896 - WARNING - HTTPS健康检查失败: HTTPSConnectionPool(host='op.gaowei.com', port=8443): Max retries exceeded with url: /health (Caused by SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1028)')))
2025-06-13 17:23:42,305 - WARNING - HTTP重定向检查失败: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-06-13 17:23:42,305 - INFO - Python HTTPS部署完成，但健康检查未通过，请手动检查
2025-06-13 17:23:42,305 - INFO - HTTPS访问地址: https://op.gaowei.com:8443
2025-06-13 17:23:42,306 - INFO - HTTP重定向地址: http://op.gaowei.com:8888
2025-06-13 17:23:42,306 - INFO - 注意: 使用的是自签名证书，浏览器会显示安全警告，这是正常的
2025-06-13 17:23:42,306 - INFO - [chan 0] sftp session closed.
