2025-06-13 17:29:38,303 - INFO - 开始正式HTTPS部署...
2025-06-13 17:29:38,567 - INFO - Connected (version 2.0, client OpenSSH_7.4)
2025-06-13 17:29:38,894 - INFO - Authentication (publickey) successful!
2025-06-13 17:29:38,894 - INFO - SSH密钥连接成功
2025-06-13 17:29:38,980 - INFO - [chan 0] Opened sftp connection (server version 3)
2025-06-13 17:29:39,027 - INFO - 正式SSL证书验证成功
2025-06-13 17:29:39,156 - INFO - 清理旧的自签名证书完成
2025-06-13 17:29:41,370 - INFO - 部署包创建成功: fangcheng_deploy_20250613_172939.tar.gz
2025-06-13 17:29:41,455 - INFO - 上传文件到服务器: /tmp/fangcheng_deploy_20250613_172939.tar.gz
2025-06-13 17:29:50,080 - INFO - 解压到应用目录: /var/www/fangcheng
2025-06-13 17:29:50,198 - INFO - 文件上传和解压完成
2025-06-13 17:29:50,399 - INFO - 启动HTTPS应用在端口 443...
2025-06-13 17:29:53,528 - INFO - HTTPS应用启动成功!
2025-06-13 17:29:53,529 - INFO - HTTPS访问地址: https://op.gaowei.com
2025-06-13 17:29:53,529 - INFO - HTTP重定向地址: http://op.gaowei.com:8888
2025-06-13 17:29:58,878 - WARNING - HTTPS健康检查失败: HTTPSConnectionPool(host='op.gaowei.com', port=443): Max retries exceeded with url: /health (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1028)')))
2025-06-13 17:29:59,128 - INFO - HTTP重定向检查通过
2025-06-13 17:29:59,128 - INFO - 正式HTTPS部署成功完成!
2025-06-13 17:29:59,128 - INFO - HTTPS访问地址: https://op.gaowei.com
2025-06-13 17:29:59,128 - INFO - HTTP重定向地址: http://op.gaowei.com:8888
2025-06-13 17:29:59,128 - INFO - 使用正式SSL证书，浏览器不会显示安全警告
2025-06-13 17:29:59,128 - INFO - [chan 0] sftp session closed.
